<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<composite:interface />

    <composite:implementation>

        <h:panelGroup rendered="#{userBean.loggedIn}">

            <!-- User data change Dialog -->
            <p:dialog header="#{msg.changeUserData}" widgetVar="changeUserDataDialog" modal="true" styleClass="changeUserDataDialog">
                <h:form id="changeUserDataForm" prependId="false">
                    <div>
                        <div class="changeUserDataDialogRow">
                            <div class="changeUserDataDialogName">
                                <h:outputLabel for="displayName" value="#{msg.nameDisplay}:" />
                            </div>
                            <div class="changeUserDataDialogInput">
                                <h:inputText value="#{userBean.user.displayName}" id="displayName" label="displayName" required="true"
                                    requiredMessage="#{msg.displayNameFailure}" styleClass="inputbox" />
                            </div>
                        </div>

                        <div class="changeUserDataDialogRow">
                            <div class="changeUserDataDialogName">
                                <h:outputLabel for="firstName" value="#{msg.nameFirst}:" />
                            </div>
                            <div class="changeUserDataDialogInput">
                                <h:inputText value="#{userBean.user.firstName}" id="firstName" label="firstName" styleClass="inputbox" required="true"
                                    requiredMessage="#{msg.firstNameFailure}" />
                            </div>
                        </div>

                        <div class="changeUserDataDialogRow">
                            <div class="changeUserDataDialogName">
                                <h:outputLabel for="lastName" value="#{msg.nameLast}:" />
                            </div>
                            <div class="changeUserDataDialogInput">
                                <h:inputText value="#{userBean.user.lastName}" id="lastName" label="lastName" styleClass="inputbox" required="true"
                                    requiredMessage="#{msg.lastNameFailure}" />
                            </div>
                        </div>

                        <div class="changeUserDataDialogRow">
                            <div class="changeUserDataDialogButtons">
                                <p:commandButton id="resetButtonUserEdit" value="#{msg.cancel}" immediate="true" styleClass="btn"
                                    oncomplete="changeUserDataDialog.hide();" />
                            </div>
                            <div class="changeUserDataDialogButtons">
                                <p:commandButton id="changeUserDataButton" value="#{msg.save}" actionListener="#{userBean.saveUserAction}"
                                    update=":userForm" styleClass="btn" oncomplete="changeUserDataDialog.hide();" />
                            </div>
                        </div>
                    </div>
                </h:form>
            </p:dialog>
        </h:panelGroup>
    </composite:implementation>

</ui:composition>
